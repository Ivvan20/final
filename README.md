üìä –î–û–ö–õ–ê–î: –°–ò–°–¢–ï–ú–ê –ü–ï–†–ï–î–ê–ß–ò –î–ê–ù–ù–´–•
üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞
–°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑—ã SQLite –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ MQTT –ø—Ä–æ—Ç–æ–∫–æ–ª —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –æ—á–∏—Å—Ç–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä –∫–æ–¥–∞

–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ö–¢–ï–ú–´
text
üìä –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞          üåê –°–µ—Ç—å MQTT          üóÑÔ∏è –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   SQLite –ë–î     ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ> ‚îÇ   MQTT –ë—Ä–æ–∫–µ—Ä   ‚îÇ ‚îÄ> ‚îÇ  –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ë–î  ‚îÇ
‚îÇ  (sender.py)    ‚îÇ         ‚îÇ (broker.hivemq.)‚îÇ    ‚îÇ  (receiver.py)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
üíª –¢–ï–•–ù–û–õ–û–ì–ò–ò –ò –¢–†–ï–ë–û–í–ê–ù–ò–Ø
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –ü–û:
Python 3.7+ (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å –Ω–∞ 3.13.7)

Git –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π

VSCode (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
bash
# –°–æ–∑–¥–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
python -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
pip install paho-mqtt
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
text
data_sync_system/
‚îú‚îÄ‚îÄ sender.py              # –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ receiver.py            # –ü—Ä–∏—ë–º–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö  
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ .gitignore           # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Git
üîß –£–°–¢–ê–ù–û–í–ö–ê –ò –ù–ê–°–¢–†–û–ô–ö–ê
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
bash
git clone https://github.com/–≤–∞—à-username/data-sync-system.git
cd data-sync-system
2. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã:
bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1 - –ó–∞–ø—É—Å–∫ –ø—Ä–∏—ë–º–Ω–∏–∫–∞
python receiver.py

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 - –ó–∞–ø—É—Å–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è  
python sender.py
üìù –ü–û–î–†–û–ë–ù–´–ô –†–ê–ó–ë–û–† –ö–û–î–ê
üîπ –§–ê–ô–õ: sender.py (–û–¢–ü–†–ê–í–ò–¢–ï–õ–¨)
–ò–º–ø–æ—Ä—Ç—ã –±–∏–±–ª–∏–æ—Ç–µ–∫:
python
import sqlite3          # –î–ª—è —Ä–∞–±–æ—Ç—ã —Å SQLite –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
import time             # –î–ª—è –∑–∞–¥–µ—Ä–∂–µ–∫ –∏ –æ–∂–∏–¥–∞–Ω–∏—è
import json             # –î–ª—è —Ä–∞–±–æ—Ç—ã —Å JSON —Ñ–æ—Ä–º–∞—Ç–æ–º
from datetime import datetime  # –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º
import paho.mqtt.client as mqtt  # MQTT –∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö
import logging          # –î–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
import sys              # –î–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
import os               # –î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
python
def setup_logging():
    """–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã"""
    os.makedirs('logs', exist_ok=True)  # –°–æ–∑–¥–∞–µ—Ç –ø–∞–ø–∫—É –¥–ª—è –ª–æ–≥–æ–≤
    
    logging.basicConfig(
        level=logging.INFO,  # –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è - INFO –∏ –≤—ã—à–µ
        format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
        handlers=[
            logging.FileHandler('logs/sync_system.log', encoding='utf-8'),  # –§–∞–π–ª–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
            logging.StreamHandler(sys.stdout)  # –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
        ]
    )
    return logging.getLogger(__name__)  # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –ª–æ–≥–≥–µ—Ä–∞
–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
python
def setup_database():
    """–°–æ–∑–¥–∞–µ—Ç –∏ –Ω–∞–ø–æ–ª–Ω—è–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏"""
    try:
        # –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ SQLite –±–∞–∑–µ (—Ñ–∞–π–ª —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
        conn = sqlite3.connect('local_sensor_data.db', check_same_thread=False)
        cursor = conn.cursor()

        # –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤, –µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        cursor.execute('''
            CREATE TABLE IF NOT EXISTS sensor_data (
                id INTEGER PRIMARY KEY AUTOINCREMENT,  # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
                sensor_id INTEGER NOT NULL,           # ID –¥–∞—Ç—á–∏–∫–∞
                value REAL NOT NULL,                  # –ó–Ω–∞—á–µ–Ω–∏–µ —Å –¥–∞—Ç—á–∏–∫–∞
                timestamp TEXT NOT NULL,              # –í—Ä–µ–º—è –∏–∑–º–µ—Ä–µ–Ω–∏—è
                sent INTEGER DEFAULT 0,               # –§–ª–∞–≥ –æ—Ç–ø—Ä–∞–≤–∫–∏ (0-–Ω–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ, 1-–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ)
                created_at TEXT DEFAULT CURRENT_TIMESTAMP  # –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏
            )
        ''')
        conn.commit()  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
–ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–µ
cursor.execute("SELECT COUNT(*) FROM sensor_data WHERE sent = 0")
unsent_count = cursor.fetchone()[0]  # –ü–æ–ª—É—á–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

if unsent_count == 0:
    logger.info("–î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É...")
    # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ: (sensor_id, value, timestamp, sent)
    test_data = [
        (1, 23.5, datetime.now().isoformat(), 0),  # –î–∞—Ç—á–∏–∫ 1, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ 23.5¬∞C
        (2, 18.9, datetime.now().isoformat(), 0),  # –î–∞—Ç—á–∏–∫ 2, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ 18.9¬∞C
        (1, 24.1, datetime.now().isoformat(), 0),  # –î–∞—Ç—á–∏–∫ 1, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ 24.1¬∞C
        (3, 19.7, datetime.now().isoformat(), 0),  # –î–∞—Ç—á–∏–∫ 3, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ 19.7¬∞C  
        (2, 22.3, datetime.now().isoformat(), 0),  # –î–∞—Ç—á–∏–∫ 2, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ 22.3¬∞C
    ]
    # –ú–∞—Å—Å–æ–≤–∞—è –≤—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    cursor.executemany(
        "INSERT INTO sensor_data (sensor_id, value, timestamp, sent) VALUES (?, ?, ?, ?)", 
        test_data
    )
    conn.commit()  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ MQTT –∫–ª–∏–µ–Ω—Ç–∞:
python
def setup_mqtt_client():
    """–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç MQTT –∫–ª–∏–µ–Ω—Ç–∞"""
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MQTT –±—Ä–æ–∫–µ—Ä—É
    MQTT_BROKER = "broker.hivemq.com"  # –ü—É–±–ª–∏—á–Ω—ã–π MQTT –±—Ä–æ–∫–µ—Ä
    MQTT_PORT = 1883                   # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç MQTT
    MQTT_TOPIC = "my_school_project/sensor_data_v2"  # –¢–æ–ø–∏–∫ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
    
    # –°–æ–∑–¥–∞–µ–º –∫–ª–∏–µ–Ω—Ç–∞ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º ID
    client_id = f"sender_{datetime.now().strftime('%H%M%S')}"
    client = mqtt.Client(client_id=client_id, protocol=mqtt.MQTTv311)
    
    # –°–ª–æ–≤–∞—Ä—å –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
    delivery_status = {}
–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π MQTT:
python
def on_connect(client, userdata, flags, rc):
    """–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ MQTT –±—Ä–æ–∫–µ—Ä—É"""
    if rc == 0:  # rc=0 –æ–∑–Ω–∞—á–∞–µ—Ç —É—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
        logger.info("‚úÖ –£—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å –∫ MQTT –±—Ä–æ–∫–µ—Ä—É!")
    else:
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
        error_codes = {
            1: "–Ω–µ–≤–µ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞",
            2: "–Ω–µ–≤–µ—Ä–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞", 
            3: "—Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω",
            4: "–Ω–µ–≤–µ—Ä–Ω—ã–µ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å", 
            5: "–æ—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏"
        }
        error_msg = error_codes.get(rc, f"–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ (–∫–æ–¥ {rc})")
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: {error_msg}")

def on_publish(client, userdata, mid):
    """–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è"""
    delivery_status[mid] = True  # –ü–æ–º–µ—á–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–∞–∫ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–µ
    logger.debug(f"üì® –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è ID {mid}")
–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
python
def sync_data(conn, cursor, client, delivery_status, MQTT_TOPIC):
    """–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö"""
    try:
        # –í—ã–±–∏—Ä–∞–µ–º –≤—Å–µ –Ω–µ–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –∏–∑ –±–∞–∑—ã
        cursor.execute("""
            SELECT id, sensor_id, value, timestamp 
            FROM sensor_data 
            WHERE sent = 0 
            ORDER BY id
        """)
        new_records = cursor.fetchall()  # –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –∑–∞–ø–∏—Å–∏

        if not new_records:
            logger.info("üí§ –ù–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–µ—Ç")
            return True

        logger.info(f"üì¶ –ù–∞–π–¥–µ–Ω–æ {len(new_records)} –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π")
–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ MQTT:
python
for record in new_records:
    record_id, sensor_id, value, timestamp = record

    # –§–æ—Ä–º–∏—Ä—É–µ–º payload –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON
    payload = {
        "id": record_id,
        "sensor_id": sensor_id, 
        "value": value,
        "timestamp": timestamp,
        "source": "local_sqlite",
        "version": "2.0"
    }
    json_payload = json.dumps(payload, ensure_ascii=False)  # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ JSON —Å—Ç—Ä–æ–∫—É

    logger.info(f"üöÄ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å ID {record_id} (–î–∞—Ç—á–∏–∫ {sensor_id}: {value}¬∞C)")
    
    # –ü—É–±–ª–∏–∫—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏ (QoS=1)
    msg_info = client.publish(MQTT_TOPIC, json_payload, qos=1)
–û–∂–∏–¥–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏:
python
# –ñ–¥–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏ (–º–∞–∫—Å–∏–º—É–º 10 —Å–µ–∫—É–Ω–¥)
wait_time = 0
while not delivery_status.get(message_mid, False) and wait_time < 10:
    time.sleep(0.5)  # –ñ–¥–µ–º 0.5 —Å–µ–∫—É–Ω–¥—ã
    wait_time += 0.5

if delivery_status.get(message_mid, False):
    # –ï—Å–ª–∏ –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞, –ø–æ–º–µ—á–∞–µ–º –∑–∞–ø–∏—Å—å –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é
    cursor.execute("UPDATE sensor_data SET sent = 1 WHERE id = ?", (record_id,))
    conn.commit()  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ
    success_count += 1
    logger.info(f"‚úÖ –ó–∞–ø–∏—Å—å ID {record_id} –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∞")
else:
    logger.warning(f"‚ö†Ô∏è  –¢–∞–π–º–∞—É—Ç –¥–æ—Å—Ç–∞–≤–∫–∏ –∑–∞–ø–∏—Å–∏ ID {record_id}")
    return False  # –ü—Ä–µ—Ä—ã–≤–∞–µ–º —Ü–∏–∫–ª –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π
üîπ –§–ê–ô–õ: receiver.py (–ü–†–ò–Å–ú–ù–ò–ö)
–°–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
python
def setup_central_database():
    """–°–æ–∑–¥–∞–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–∏–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö"""
    conn = sqlite3.connect('central_storage.db', check_same_thread=False)
    cursor = conn.cursor()
    
    # –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –ø—Ä–∏–Ω—è—Ç—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    cursor.execute('''
        CREATE TABLE IF NOT EXISTS received_data (
            id INTEGER PRIMARY KEY AUTOINCREMENT,      # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
            original_id INTEGER,                       # ID –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–π –±–∞–∑—ã
            sensor_id INTEGER NOT NULL,               # ID –¥–∞—Ç—á–∏–∫–∞
            value REAL NOT NULL,                      # –ó–Ω–∞—á–µ–Ω–∏–µ
            timestamp TEXT NOT NULL,                  # –í—Ä–µ–º—è –∏–∑–º–µ—Ä–µ–Ω–∏—è
            received_at TEXT NOT NULL,                # –í—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è
            source TEXT,                              # –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
            version TEXT                              # –í–µ—Ä—Å–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
        )
    ''')
    conn.commit()
–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π:
python
def on_message(client, userdata, msg):
    """–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è"""
    try:
        # –î–µ–∫–æ–¥–∏—Ä—É–µ–º JSON —Å–æ–æ–±—â–µ–Ω–∏–µ
        payload = json.loads(msg.payload.decode())
        
        logger.info(f"\nüì® –ü–û–õ–£–ß–ï–ù–û –ù–û–í–û–ï –°–û–û–ë–©–ï–ù–ò–ï")
        logger.info(f"‚îú‚îÄ –í—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è: {datetime.now().strftime('%H:%M:%S')}")
        logger.info(f"‚îú‚îÄ –¢–æ–ø–∏–∫: {msg.topic}")
        logger.info(f"‚îú‚îÄ –î–∞–Ω–Ω—ã–µ: {json.dumps(payload, indent=2)}")
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É—é –±–∞–∑—É
        save_to_database(payload)
        
        # –î—É–±–ª–∏—Ä—É–µ–º –≤ –ª–æ–≥-—Ñ–∞–π–ª –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏
        save_to_logfile(payload)
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑—É:
python
def save_to_database(payload):
    """–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É—é –±–∞–∑—É"""
    cursor.execute('''
        INSERT INTO received_data 
        (original_id, sensor_id, value, timestamp, received_at, source, version) 
        VALUES (?, ?, ?, ?, ?, ?, ?)
    ''', (
        payload.get('id'),           # ID –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–π –±–∞–∑—ã
        payload.get('sensor_id'),    # ID –¥–∞—Ç—á–∏–∫–∞
        payload.get('value'),        # –ó–Ω–∞—á–µ–Ω–∏–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è
        payload.get('timestamp'),    # –í—Ä–µ–º—è –∏–∑–º–µ—Ä–µ–Ω–∏—è
        datetime.now().isoformat(),  # –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è (–≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è)
        payload.get('source', 'unknown'),  # –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
        payload.get('version', '1.0')      # –í–µ—Ä—Å–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
    ))
    conn.commit()  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
üîÑ –ü–†–ò–ù–¶–ò–ü –†–ê–ë–û–¢–´ –°–ò–°–¢–ï–ú–´
1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:
–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

–ü—Ä–∏—ë–º–Ω–∏–∫ —Å–æ–∑–¥–∞–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è

–û–±–∞ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –∫ MQTT –±—Ä–æ–∫–µ—Ä—É

2. –¶–∏–∫–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
–ö–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏

–î–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è JSON —Å–æ–æ–±—â–µ–Ω–∏–µ

–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ MQTT —Å QoS=1 (–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞)

–û–∂–∏–¥–∞–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç –±—Ä–æ–∫–µ—Ä–∞

–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–ø–∏—Å—å –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è

3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ø—Ä–∏—ë–º–Ω–∏–∫–∞:
–ü—Ä–∏—ë–º–Ω–∏–∫ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–ª—É—à–∞–µ—Ç MQTT —Ç–æ–ø–∏–∫

–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É—é –±–∞–∑—É

–í–µ–¥—É—Ç—Å—è –ª–æ–≥–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å —Å–µ—Ç—å—é –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ü–∏–∫–ª–µ

–î–∞–Ω–Ω—ã–µ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏

–°–∏—Å—Ç–µ–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
üõ†Ô∏è –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ü–†–û–ì–†–ê–ú–ú–´ –ò –ö–û–î–´
üìÅ –ü–û–õ–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê
text
data_sync_system/
‚îú‚îÄ‚îÄ üìÑ sender.py                 # –û—Å–Ω–æ–≤–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ üìÑ receiver.py               # –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏—ë–º–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ üìÑ simple_sender.py          # –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
‚îú‚îÄ‚îÄ üìÑ simple_receiver.py        # –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–∏—ë–º–Ω–∏–∫–∞  
‚îú‚îÄ‚îÄ üìÑ requirements.txt          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ üìÑ README.md                 # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üìÑ .gitignore               # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Git
‚îú‚îÄ‚îÄ üìÑ database_checker.py       # –£—Ç–∏–ª–∏—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ üìÑ test_data_adder.py        # –°–∫—Ä–∏–ø—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ üìÅ .vscode/
    ‚îî‚îÄ‚îÄ üìÑ settings.json         # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ VSCode
üîß –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –°–ö–†–ò–ü–¢–´ –ò –£–¢–ò–õ–ò–¢–´
1. üìÑ simple_sender.py - –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å
python
import sys
# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º –¥–ª—è VSCode
sys.path.append('C:\\Users\\Student\\AppData\\Roaming\\Python\\Python313\\site-packages')

import paho.mqtt.client as mqtt
import sqlite3
import time
import json
from datetime import datetime

print("üöÄ –ü–†–û–°–¢–û–ô –û–¢–ü–†–ê–í–ò–¢–ï–õ–¨ –ó–ê–ü–£–©–ï–ù")

# –°–æ–∑–¥–∞–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
conn = sqlite3.connect('test.db')
cursor = conn.cursor()

# –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç—É—é —Ç–∞–±–ª–∏—Ü—É
cursor.execute('''
    CREATE TABLE IF NOT EXISTS data (
        id INTEGER PRIMARY KEY,
        message TEXT,
        sent INTEGER DEFAULT 0
    )
''')

# –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç)
cursor.execute("INSERT OR IGNORE INTO data (id, message) VALUES (1, '–¢–µ—Å—Ç 1')")
cursor.execute("INSERT OR IGNORE INTO data (id, message) VALUES (2, '–¢–µ—Å—Ç 2')")
conn.commit()

# –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
def on_connect(client, userdata, flags, rc):
    print("‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ MQTT –±—Ä–æ–∫–µ—Ä—É!")

# –°–æ–∑–¥–∞–µ–º MQTT –∫–ª–∏–µ–Ω—Ç–∞
client = mqtt.Client()
client.on_connect = on_connect
client.connect("broker.hivemq.com", 1883, 60)
client.loop_start()

# –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
cursor.execute("SELECT * FROM data WHERE sent = 0")
for row in cursor.fetchall():
    id, message, sent = row
    print(f"üì® –û—Ç–ø—Ä–∞–≤–∫–∞: {message}")
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ MQTT
    client.publish("my_project/test", json.dumps({"id": id, "msg": message}), qos=1)
    
    # –ü–æ–º–µ—á–∞–µ–º –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ
    cursor.execute("UPDATE data SET sent = 1 WHERE id = ?", (id,))
    conn.commit()

# –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
conn.close()
print("‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã!")
time.sleep(2)
client.loop_stop()
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã MQTT –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏

2. üìÑ simple_receiver.py - –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø—Ä–∏—ë–º–Ω–∏–∫
python
import sys
sys.path.append('C:\\Users\\Student\\AppData\\Roaming\\Python\\Python313\\site-packages')

import paho.mqtt.client as mqtt
import json

print("üì° –ü–†–û–°–¢–û–ô –ü–†–ò–Å–ú–ù–ò–ö –ó–ê–ü–£–©–ï–ù")

def on_connect(client, userdata, flags, rc):
    print("‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ MQTT –±—Ä–æ–∫–µ—Ä—É!")
    client.subscribe("my_project/test")  # –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Ç–æ–ø–∏–∫

def on_message(client, userdata, msg):
    # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤—Ö–æ–¥—è—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    data = json.loads(msg.payload.decode())
    print(f"üì® –ü–æ–ª—É—á–µ–Ω–æ: {data['msg']} (ID: {data['id']})")

# –°–æ–∑–¥–∞–µ–º –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–ª–∏–µ–Ω—Ç–∞
client = mqtt.Client()
client.on_connect = on_connect
client.on_message = on_message
client.connect("broker.hivemq.com", 1883, 60)

print("üéß –û–∂–∏–¥–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π...")
client.loop_forever()  # –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç –ø—Ä–∏–µ–º–∞ MQTT —Å–æ–æ–±—â–µ–Ω–∏–π

3. üìÑ database_checker.py - –£—Ç–∏–ª–∏—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
python
import sqlite3
import os
from datetime import datetime

def check_database_status():
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–æ–µ–∫—Ç–µ"""
    
    print("üîç –ü–†–û–í–ï–†–ö–ê –°–¢–ê–¢–£–°–ê –ë–ê–ó –î–ê–ù–ù–´–•")
    print("=" * 50)
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É
    if os.path.exists('local_sensor_data.db'):
        conn = sqlite3.connect('local_sensor_data.db')
        cursor = conn.cursor()
        
        # –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        cursor.execute('SELECT COUNT(*) as total FROM sensor_data')
        total = cursor.fetchone()[0]
        
        cursor.execute('SELECT COUNT(*) as sent FROM sensor_data WHERE sent = 1')
        sent = cursor.fetchone()[0]
        
        cursor.execute('SELECT COUNT(*) as unsent FROM sensor_data WHERE sent = 0')
        unsent = cursor.fetchone()[0]
        
        print(f"üìä –õ–û–ö–ê–õ–¨–ù–ê–Ø –ë–ê–ó–ê (local_sensor_data.db):")
        print(f"   üìÅ –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: {total}")
        print(f"   ‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: {sent}")
        print(f"   ‚è≥ –û–∂–∏–¥–∞—é—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏: {unsent}")
        
        # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 3 –∑–∞–ø–∏—Å–∏
        cursor.execute('SELECT * FROM sensor_data ORDER BY id DESC LIMIT 3')
        print("   üìù –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏:")
        for row in cursor.fetchall():
            print(f"      ID: {row[0]}, –î–∞—Ç—á–∏–∫: {row[1]}, –ó–Ω–∞—á–µ–Ω–∏–µ: {row[2]}, –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: {'‚úÖ' if row[4] else '‚ùå'}")
        
        conn.close()
    else:
        print("‚ùå –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞")
    
    print("-" * 30)
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É—é –±–∞–∑—É
    if os.path.exists('central_storage.db'):
        conn = sqlite3.connect('central_storage.db')
        cursor = conn.cursor()
        
        cursor.execute('SELECT COUNT(*) FROM received_data')
        total_received = cursor.fetchone()[0]
        
        print(f"üì® –¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –ë–ê–ó–ê (central_storage.db):")
        print(f"   üìÅ –ü–æ–ª—É—á–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π: {total_received}")
        
        # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 3 –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏
        cursor.execute('SELECT * FROM received_data ORDER BY id DESC LIMIT 3')
        print("   üìù –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:")
        for row in cursor.fetchall():
            print(f"      ID: {row[0]}, Original: {row[1]}, –î–∞—Ç—á–∏–∫: {row[2]}, –ó–Ω–∞—á–µ–Ω–∏–µ: {row[3]}")
        
        conn.close()
    else:
        print("‚ùå –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞")
    
    print("-" * 30)
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ—Å—Ç–æ–≤—É—é –±–∞–∑—É (–µ—Å–ª–∏ –µ—Å—Ç—å)
    if os.path.exists('test.db'):
        conn = sqlite3.connect('test.db')
        cursor = conn.cursor()
        
        cursor.execute('SELECT COUNT(*) FROM data')
        total_test = cursor.fetchone()[0]
        
        cursor.execute('SELECT COUNT(*) FROM data WHERE sent = 1')
        sent_test = cursor.fetchone()[0]
        
        print(f"üß™ –¢–ï–°–¢–û–í–ê–Ø –ë–ê–ó–ê (test.db):")
        print(f"   üìÅ –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: {total_test}")
        print(f"   ‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: {sent_test}")
        
        conn.close()

def check_log_files():
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∏ —Ä–∞–∑–º–µ—Ä –ª–æ–≥-—Ñ–∞–π–ª–æ–≤"""
    print("\nüìã –ü–†–û–í–ï–†–ö–ê –õ–û–ì-–§–ê–ô–õ–û–í")
    print("=" * 30)
    
    log_files = [
        'logs/sync_system.log',
        'logs/receiver.log', 
        'received_data.log'
    ]
    
    for log_file in log_files:
        if os.path.exists(log_file):
            size = os.path.getsize(log_file)
            print(f"   üìÑ {log_file}: {size} –±–∞–π—Ç")
        else:
            print(f"   ‚ùå {log_file}: –Ω–µ –Ω–∞–π–¥–µ–Ω")

if __name__ == "__main__":
    check_database_status()
    check_log_files()
    print(f"\nüéØ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}")
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—Å–µ—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –∏ –ª–æ–≥–æ–≤

4. üìÑ test_data_adder.py - –°–∫—Ä–∏–ø—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
python
import sqlite3
from datetime import datetime
import random
import sys

def add_test_data():
    """–î–æ–±–∞–≤–ª—è–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É"""
    
    print("üß™ –î–û–ë–ê–í–õ–ï–ù–ò–ï –¢–ï–°–¢–û–í–´–• –î–ê–ù–ù–´–•")
    print("=" * 40)
    
    try:
        # –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –±–∞–∑–µ
        conn = sqlite3.connect('local_sensor_data.db')
        cursor = conn.cursor()
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
        cursor.execute("SELECT COUNT(*) FROM sensor_data")
        current_count = cursor.fetchone()[0]
        
        print(f"üìä –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π: {current_count}")
        
        # –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
        new_data = []
        for i in range(5):  # –î–æ–±–∞–≤–ª—è–µ–º 5 –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π
            sensor_id = random.randint(1, 3)  # –°–ª—É—á–∞–π–Ω—ã–π –¥–∞—Ç—á–∏–∫ 1-3
            value = round(random.uniform(18.0, 26.0), 1)  # –°–ª—É—á–∞–π–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
            timestamp = datetime.now().isoformat()
            
            new_data.append((sensor_id, value, timestamp, 0))
            print(f"   üìù –ó–∞–ø–∏—Å—å {i+1}: –î–∞—Ç—á–∏–∫ {sensor_id}, –ó–Ω–∞—á–µ–Ω–∏–µ: {value}¬∞C")
        
        # –í—Å—Ç–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É
        cursor.executemany(
            "INSERT INTO sensor_data (sensor_id, value, timestamp, sent) VALUES (?, ?, ?, ?)", 
            new_data
        )
        conn.commit()
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
        cursor.execute("SELECT COUNT(*) FROM sensor_data")
        new_count = cursor.fetchone()[0]
        
        print(f"‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ {new_count - current_count} –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π")
        print(f"üìà –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π: {new_count}")
        
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏
        cursor.execute("""
            SELECT id, sensor_id, value, timestamp 
            FROM sensor_data 
            WHERE sent = 0 
            ORDER BY id DESC 
            LIMIT 3
        """)
        
        print("\nüéØ –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ (–æ–∂–∏–¥–∞—é—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏):")
        for row in cursor.fetchall():
            print(f"   ID: {row[0]}, –î–∞—Ç—á–∏–∫: {row[1]}, –ó–Ω–∞—á–µ–Ω–∏–µ: {row[2]}¬∞C")
        
        conn.close()
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö: {e}")

def clear_all_data():
    """–û—á–∏—â–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã (–æ–ø–∞—Å–Ω–æ!)"""
    
    response = input("\n‚ö†Ô∏è  –û–ü–ê–°–ù–û! –£–¥–∞–ª–∏—Ç—å –í–°–ï –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã? (y/N): ")
    if response.lower() == 'y':
        try:
            conn = sqlite3.connect('local_sensor_data.db')
            cursor = conn.cursor()
            cursor.execute("DELETE FROM sensor_data")
            conn.commit()
            conn.close()
            print("üóëÔ∏è  –í—Å–µ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã –∏–∑ –±–∞–∑—ã!")
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏: {e}")
    else:
        print("‚úÖ –û—Ç–º–µ–Ω–µ–Ω–æ")

if __name__ == "__main__":
    print("–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:")
    print("1 - –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ")
    print("2 - –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ (–æ–ø–∞—Å–Ω–æ)")
    print("3 - –í—ã—Ö–æ–¥")
    
    choice = input("–í–∞—à –≤—ã–±–æ—Ä (1-3): ")
    
    if choice == '1':
        add_test_data()
    elif choice == '2':
        clear_all_data()
    else:
        print("üëã –í—ã—Ö–æ–¥")
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

5. üìÑ requirements.txt - –§–∞–π–ª –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
txt
paho-mqtt==2.1.0
–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: –°–ø–µ—Ü–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –≤–µ—Ä—Å–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

6. üìÑ .gitignore - –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Git
gitignore
# –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
.venv/
venv/
env/

# –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
*.db
*.sqlite
*.sqlite3

# –õ–æ–≥–∏
logs/
*.log

# –§–∞–π–ª—ã –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
.DS_Store
Thumbs.db

# –§–∞–π–ª—ã Python
__pycache__/
*.pyc
*.pyo
*.pyd
.Python

# VSCode
.vscode/
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ò—Å–∫–ª—é—á–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π

7. üìÑ .vscode/settings.json - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ VSCode
json
{
    "python.analysis.extraPaths": [
        "C:\\Users\\Student\\AppData\\Roaming\\Python\\Python313\\site-packages"
    ],
    "python.autoComplete.extraPaths": [
        "C:\\Users\\Student\\AppData\\Roaming\\Python\\Python313\\site-packages"
    ]
}
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å –∏–º–ø–æ—Ä—Ç–∞–º–∏ –≤ VSCode

üíª –ö–û–ú–ê–ù–î–ù–´–ï –°–ö–†–ò–ü–¢–´ –î–õ–Ø –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø
–°–∫—Ä–∏–ø—Ç –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (test_system.bat –¥–ª—è Windows):
batch
@echo off
echo üöÄ –ó–ê–ü–£–°–ö –¢–ï–°–¢–ê –°–ò–°–¢–ï–ú–´ –ü–ï–†–ï–î–ê–ß–ò –î–ê–ù–ù–´–•
echo.

echo üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö...
python database_checker.py

echo.
echo üß™ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
python test_data_adder.py

echo.
echo ‚úÖ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!
pause
PowerShell —Å–∫—Ä–∏–ø—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (monitor.ps1):
powershell
Write-Host "üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì –°–ò–°–¢–ï–ú–´ –ü–ï–†–ï–î–ê–ß–ò –î–ê–ù–ù–´–•" -ForegroundColor Green
Write-Host "=" * 50

while ($true) {
    Clear-Host
    Write-Host "üïí $(Get-Date -Format 'HH:mm:ss') - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞..." -ForegroundColor Yellow
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    python database_checker.py
    
    Write-Host "`n‚è≥ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥ (Ctrl+C –¥–ª—è –≤—ã—Ö–æ–¥–∞)..."
    Start-Sleep -Seconds 10
}
üéØ –ö–û–ú–ê–ù–î–´ –î–õ–Ø –¢–ï–†–ú–ò–ù–ê–õ–ê
–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã:
bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö
python -c "
import sqlite3
conn1 = sqlite3.connect('local_sensor_data.db')
c1 = conn1.cursor()
c1.execute('SELECT COUNT(*) FROM sensor_data WHERE sent=1')
sent = c1.fetchone()[0]

conn2 = sqlite3.connect('central_storage.db')  
c2 = conn2.cursor()
c2.execute('SELECT COUNT(*) FROM received_data')
received = c2.fetchone()[0]

print(f'üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ–¥–∞—á–∏:')
print(f'   üì§ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: {sent}')
print(f'   üì• –ü–æ–ª—É—á–µ–Ω–æ: {received}')
print(f'   ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ: {sent == received}')
"

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
Get-Content logs/sync_system.log -Wait

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
Get-ChildItem *.db | Select-Object Name, Length, LastWriteTime

# üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï
–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö:
bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ –±–∞–∑–∞—Ö
python -c "
import sqlite3
# –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞
conn1 = sqlite3.connect('local_sensor_data.db')
c1 = conn1.cursor()
c1.execute('SELECT COUNT(*) FROM sensor_data WHERE sent=1')
sent_count = c1.fetchone()[0]

# –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –±–∞–∑–∞  
conn2 = sqlite3.connect('central_storage.db')
c2 = conn2.cursor() 
c2.execute('SELECT COUNT(*) FROM received_data')
received_count = c2.fetchone()[0]

print(f'üìä –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: {sent_count}, –ü–æ–ª—É—á–µ–Ω–æ: {received_count}')
print(f'‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: {"–£—Å–ø–µ—à–Ω–æ" if sent_count == received_count else "–° –æ—à–∏–±–∫–∞–º–∏"}')
"
–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:
bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
tail -f logs/sync_system.log

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø—Ä–∏—ë–º–Ω–∏–∫–∞  
tail -f logs/receiver.log

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
tail -f received_data.log
üéØ –†–ï–ó–£–õ–¨–¢–ê–¢–´
–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:
‚úÖ –î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –±–µ–∑ –ø–æ—Ç–µ—Ä—å - –≤—Å–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –ø–æ–ª—É—á–∞—é—Ç—Å—è

‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ - –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏

‚úÖ –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å–±–æ—è–º - —Å–∏—Å—Ç–µ–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ - –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥–∏

–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ —á–µ—Ä–µ–∑ MQTT QoS 1

–û–±–µ—Å–ø–µ—á–µ–Ω–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–±–æ—è—Ö

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

üìà –í–û–ó–ú–û–ñ–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø
–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ SSL/TLS –¥–ª—è MQTT

–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è - –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –¥–ª—è MQTT –±—Ä–æ–∫–µ—Ä–∞

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö - –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ PostgreSQL/MySQL

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π

üí° –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï
–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö —Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–æ–π. –°–∏—Å—Ç–µ–º–∞ —É—Å–ø–µ—à–Ω–æ —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á—É —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω—ã–º –∏ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏.

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫: Python, SQLite, MQTT, JSON, Logging

–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏: –°—Ä–µ–¥–Ω–∏–π (–∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —É—á–µ–±–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ)

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö. –í—Å–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø–æ–¥–æ–±—Ä–∞–Ω—ã –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ—Å—Ç–æ—Ç—ã –ø–æ–Ω–∏–º–∞–Ω–∏—è –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.
